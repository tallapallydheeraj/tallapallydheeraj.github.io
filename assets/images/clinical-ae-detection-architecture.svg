<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="720" viewBox="0 0 1200 720" role="img" aria-label="Clinical Adverse Event Detection Architecture">
  <defs>
    <style>
      .title { font: 700 24px system-ui, sans-serif; fill: #2c3e50; }
      .subtitle { font: 500 14px system-ui, sans-serif; fill: #5d6d7e; }
      .label { font: 600 13px system-ui, sans-serif; fill: #2c3e50; }
      .text { font: 500 12px system-ui, sans-serif; fill: #34495e; }
      .small { font: 500 11px system-ui, sans-serif; fill: #7f8c8d; }
    </style>
    <marker id="arrowHead" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#16a085"/>
    </marker>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#16a085;stop-opacity:0.08" />
      <stop offset="100%" style="stop-color:#2c3e50;stop-opacity:0.08" />
    </linearGradient>
  </defs>
  <rect width="1200" height="720" fill="#ffffff"/>
  <rect x="0" y="0" width="1200" height="80" fill="url(#headerGrad)"/>
  <text x="600" y="35" class="title" text-anchor="middle">Clinical Adverse Event Detection — AI for Healthcare</text>
  <text x="600" y="60" class="subtitle" text-anchor="middle">Data Ingestion to Storage to RAG and LLM Agent to API and Explainability</text>
  <rect x="100" y="100" width="1000" height="100" fill="#f5f6f7" stroke="#16a085" stroke-width="2" rx="8"/>
  <text x="600" y="125" class="label" text-anchor="middle">1. Data Ingestion</text>
  <rect x="140" y="140" width="280" height="45" fill="#ffffff" stroke="#16a085" stroke-width="2" rx="6"/>
  <text x="280" y="162" class="text" text-anchor="middle">Structured data (e.g. FHIR)</text>
  <rect x="460" y="140" width="280" height="45" fill="#ffffff" stroke="#16a085" stroke-width="2" rx="6"/>
  <text x="600" y="162" class="text" text-anchor="middle">Unstructured data, contracts</text>
  <rect x="780" y="140" width="280" height="45" fill="#ffffff" stroke="#16a085" stroke-width="2" rx="6"/>
  <text x="920" y="162" class="text" text-anchor="middle">Preprocessing, chunking</text>
  <path d="M 600 200 L 600 245" stroke="#16a085" stroke-width="2.5" fill="none" marker-end="url(#arrowHead)"/>
  <rect x="100" y="245" width="1000" height="90" fill="#eef0f2" stroke="#16a085" stroke-width="2" rx="8"/>
  <text x="600" y="270" class="label" text-anchor="middle">2. Storage — MongoDB (vector store for RAG)</text>
  <rect x="340" y="285" width="520" height="35" fill="#ffffff" stroke="#16a085" stroke-width="2" rx="6"/>
  <text x="600" y="307" class="text" text-anchor="middle">Processed data and embeddings (optional PHI redaction)</text>
  <path d="M 600 335 L 600 380" stroke="#16a085" stroke-width="2.5" fill="none" marker-end="url(#arrowHead)"/>
  <rect x="100" y="380" width="1000" height="90" fill="#f5f6f7" stroke="#16a085" stroke-width="2" rx="8"/>
  <text x="600" y="405" class="label" text-anchor="middle">3. Ingestion Pipeline — Chunking, embeddings, LangSmith tracing</text>
  <path d="M 600 470 L 600 515" stroke="#16a085" stroke-width="2.5" fill="none" marker-end="url(#arrowHead)"/>
  <rect x="100" y="515" width="1000" height="110" fill="#eef0f2" stroke="#16a085" stroke-width="2" rx="8"/>
  <text x="600" y="540" class="label" text-anchor="middle">4. Agent Service (RAG + LLM)</text>
  <rect x="140" y="555" width="220" height="55" fill="#ffffff" stroke="#16a085" stroke-width="2" rx="6"/>
  <text x="250" y="578" class="text" text-anchor="middle">Assessment intake, contract validation</text>
  <rect x="400" y="555" width="220" height="55" fill="#ffffff" stroke="#16a085" stroke-width="2" rx="6"/>
  <text x="510" y="578" class="text" text-anchor="middle">Retrieval (RAG) from MongoDB</text>
  <rect x="660" y="555" width="220" height="55" fill="#ffffff" stroke="#16a085" stroke-width="2" rx="6"/>
  <text x="770" y="578" class="text" text-anchor="middle">LLM (Azure OpenAI, HuggingFace, Ollama)</text>
  <rect x="920" y="555" width="160" height="55" fill="#ffffff" stroke="#16a085" stroke-width="2" rx="6"/>
  <text x="1000" y="578" class="text" text-anchor="middle">AE detection, reasoning</text>
  <path d="M 600 625 L 600 665" stroke="#16a085" stroke-width="2.5" fill="none" marker-end="url(#arrowHead)"/>
  <rect x="100" y="665" width="1000" height="45" fill="#f5f6f7" stroke="#16a085" stroke-width="2" rx="8"/>
  <text x="600" y="690" class="label" text-anchor="middle">5. API and Explainability — FastAPI, REST, explainable outputs for compliance</text>
</svg>
