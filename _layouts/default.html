<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {%- seo -%}
    {%- include head-custom.html -%}
    {%- feed_meta -%}
  </head>

  <body>
    <header class="site-header" role="banner">
      <div class="wrapper">
        <a class="site-title" rel="author" href="{{ '/' | relative_url }}">{{ site.title | escape }}</a>
        <button class="menu-toggle" aria-label="Toggle menu" aria-expanded="false">
          <span class="hamburger-icon">
            <span></span>
            <span></span>
            <span></span>
          </span>
        </button>
        <nav class="site-nav" id="site-nav">
          {%- for path in site.header_pages -%}
            {%- assign my_page = site.pages | where: "path", path | first -%}
            {%- if my_page.title -%}
              <a class="page-link" href="{{ my_page.url | relative_url }}">{{ my_page.title | escape }}</a>
            {%- endif -%}
          {%- endfor -%}
        </nav>
      </div>
    </header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        {{ content }}
      </div>
    </main>

    <footer class="site-footer">
      <div class="wrapper">
        <p>&copy; {{ 'now' | date: "%Y" }} {{ site.author | escape }}. All rights reserved.</p>
        <p>
          <a href="mailto:{{ site.email }}">ðŸ“§ {{ site.email }}</a> |
          <a href="https://linkedin.com/in/{{ site.linkedin_username }}" target="_blank" rel="noopener">LinkedIn</a> |
          <a href="https://github.com/{{ site.github_username }}" target="_blank" rel="noopener">GitHub</a>
        </p>
      </div>
    </footer>

    <script>
      // Hamburger menu toggle
      document.addEventListener('DOMContentLoaded', function() {
        const menuToggle = document.querySelector('.menu-toggle');
        const siteNav = document.getElementById('site-nav');
        const body = document.body;
        
        function closeMenu() {
          menuToggle.setAttribute('aria-expanded', 'false');
          siteNav.classList.remove('nav-open');
          menuToggle.classList.remove('active');
          body.style.overflow = '';
        }
        
        function openMenu() {
          menuToggle.setAttribute('aria-expanded', 'true');
          siteNav.classList.add('nav-open');
          menuToggle.classList.add('active');
          body.style.overflow = 'hidden';
        }
        
        if (menuToggle && siteNav) {
          menuToggle.addEventListener('click', function(e) {
            e.stopPropagation();
            const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
            if (isExpanded) {
              closeMenu();
            } else {
              openMenu();
            }
          });

          // Close menu when clicking on a link
          const navLinks = siteNav.querySelectorAll('a');
          navLinks.forEach(link => {
            link.addEventListener('click', function() {
              closeMenu();
            });
          });

          // Close menu when clicking on backdrop
          siteNav.addEventListener('click', function(e) {
            if (e.target === siteNav) {
              closeMenu();
            }
          });

          // Close menu on escape key
          document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && siteNav.classList.contains('nav-open')) {
              closeMenu();
            }
          });
        }
      });
    </script>
  </body>
</html>
